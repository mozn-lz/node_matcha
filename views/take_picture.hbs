<link rel='stylesheet' href='/stylesheets/take_picture.css' />

<div class="container">
	{{!-- <img src="data:image/png;base64,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" alt=""> --}}
	<ul class="nav nav-pills" id="myTab" role="tablist">
		<li class="nav-item">
			<a class="nav-link active" id="take_picture-tab" data-toggle="tab" href="#take_picture" role="tab"
				aria-controls="take_picture" aria-selected="true">Take Picture</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" id="choose-profile-tab" data-toggle="tab" href="#choose-profile" role="tab"
				aria-controls="choose-profile" aria-selected="false">Choose Picture</a>
		</li>
	</ul>

	<div class="tab-content">
		<div class="tab-pane active" id="take_picture" role="tabpanel" aria-labelledby="take_picture-tab">
			<section class="shadow-lg p-3 mb-5 bg-white " id="main">
				<h2>Take pic</h2>

				<div class="top-container">
					<div id="overlay-options">
						<input type="radio" name="overlay" value="#" id="none" checked="checked"> Ugly face
						<input type="radio" name="overlay" value="/images/img/mask1.png" id="crazy"> crazy
						<input type="radio" name="overlay" value="/images/img/mask2.png" id="catface"> catface
					</div>
					<div>
						<input type="checkbox" name="overlay2" value="/images/img/waterDrop.png" id="overlay2"> Rain
					</div>
					<div class="">
						<div class="" id="vid_div">
							<div>
								<button id="photo-button" class="btn btn-info">Take Photo</button>
								<input type="file" onchange="encodeImageFileAsURL(this)" />
							</div>
							<div id="imgVidDiv">
								<img id="tmpImg" src="" alt="">
								<img id="tmpImg2" src="" alt="">
								<video id="video">Stream broken...</video>
							</div>
						</div>
						<div class="float-left padding-400">
						</div>
					</div>
					<div id="photos">
						<img id="selfie" src="" alt="" style="width:100%;max-width:300px">

						<!-- The Modal -->
						<div id="myModal" class="modal">
							<span class="close">&times;</span>
							<img class="modal-content" name="user_pic" id="img01">
							<div id="caption"></div>
							<form action="/take_picture" method="post" enctype="multipart/form-data">
								<input class="hidden" type="text" id="thmb" name="thmb" value="#">
								<button name="cancel" value="cancel" type="submit">Cancel</button>
								<button name="save" value="save" type="submit">Save</button>
						</div>
					</div>
				</div>
				<canvas id="canvas"></canvas>
			</section>
		</div>
		<div class="tab-pane" id="choose-profile" role="tabpanel" aria-labelledby="choose-profile-tab">
			<h5 class="text-center">Select Profile Picture</h5>
			<div>
				{{!-- <img id="profilePic" class="rounded-circle" src="" alt=""> --}}
				<img id="profilePic" class="rounded-circle" src="{{profile}}" alt="">
				{{!-- <input type="hidden" name="thmb" type="file"> --}}
			</div>

			<br>
			<hr>
			<fieldset>
				<legend>Your Picutres</legend>
				{{#each pic}}
					{{#if this}}
					<div class="ppDiv inline">
						<img class="user_pics" src={{this}} alt="">
						<div class="center">
							<div class="inline"><button type="submit" class="btn btn-info" name="change"
									value="change">Change</button></div>
							<div class="inline"><button type="submit" class="btn btn-danger" name="delete"
									value="delete">Delete</button></div>
						</div>
					</div>
					{{/if}}
				{{/each}}
			</fieldset>
			</form>
		</div>
	</div>
</div>

<script src="/javascripts/take_pic.js"></script>
<script>
	$(function () {
		$('#myTab li:last-child a').tab('show')
	})
</script>